---
import { getCollection } from 'astro:content'
import DefaultLayout from '../../layouts/DefaultLayout.astro'
import AnthologyCard from '../../components/AnthologyCard.astro'
import type { CollectionEntry } from 'astro:content'

const posts = (await getCollection('anthologies')).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
) as CollectionEntry<'anthologies'>[]
---

<DefaultLayout title="Anthologies">
  <section class="anthologies-grid">
    <div class="container">
      <div class="grid-container">
        {posts.map((post) => <AnthologyCard anthology={post} />)}
      </div>
    </div>
  </section>
</DefaultLayout>

<style>
  .anthologies-grid {
    padding: 4rem 0;
  }

  .grid-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
    margin: 0 auto;
    max-width: 1200px;
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .grid-container {
      grid-template-columns: 1fr;
      gap: 1.5rem;
    }

    .anthologies-grid {
      padding: 2rem 0;
    }
  }

  @media (min-width: 1200px) {
    .grid-container {
      grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
      gap: 2.5rem;
    }
  }
</style>
